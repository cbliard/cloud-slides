<!doctype html>
<html lang="fr">

  <head>
    <meta charset="utf-8">

    <title>Développeurs, gagnez du temps avec le Cloud</title>

    <meta name="description" content="Retour d'expérience sur notre gain en productivité grâce à divers PaaS et SaaS">
    <meta name="author" content="Christophe Bliard">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css" id="theme">
    <link rel="stylesheet" href="css/custom.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section data-background="lib/img/heart-cloud.jpg" class="shadow">
          <p>Pour passer en plein écran<br>
            <small>et cacher la barre d'adresse</small>
          </p>
          <h2 id="toggle-fullscreen">Cliquer ici</h2>
        </section>

        <section data-background="lib/img/heart-cloud.jpg" class="shadow">
          <h2>Cloud Computing</h2>
          <h2>IaaS, PaaS, SaaS ?</h2>
          <h5>wtf ?...</h5>
          <aside class="notes">
            Cloud : accès distant à des ressources informatiques à la demande.
              Leur fonctionnement n'est pas connu des clients
            ressource : capacité de calcul, de stockage, de traitement.
            Le Cloud existe depuis longtemps : hotmail dans les années 90, c'était du cloud.

            En 2012, une étude de Citrix, 95% des américains déclaraient ne pas utiliser le cloud, alors que la plupart achetaient, stockaient des photos, écoutaient de la musique, géraient leur compte en banque en ligne. 29% pensent que c'est lié à la météo.
            http://www.citrix.com/news/announcements/aug-2012/most-americans-confused-by-cloud-computing-according-to-national.html
          </aside>
        </section>

        <section data-background="lib/img/pizza.jpg" class="shadow">
          <h2>Pizza !</h2>
          <table class="stacked">
            <thead>
              <th class="fragment invisible" data-fragment-index="9"></th>
              <th class="fragment" data-fragment-index="10">Faite maison</th>
              <th class="fragment" data-fragment-index="11">Prête à cuire</th>
              <th class="fragment" data-fragment-index="12">Livrée à domicile</th>
              <th class="fragment" data-fragment-index="13">Sortie restaurant</th>
            </thead>
            <tbody>
              <tr>
                <td class="fragment" data-fragment-index="9">Couverts</td>
                <td rowspan="9" class="fragment us" data-fragment-index="10"></td>
                <td rowspan="5" class="fragment us" data-fragment-index="11"></td>
                <td rowspan="2" class="fragment us" data-fragment-index="12"></td>
                <td rowspan="9" class="fragment vendor" data-fragment-index="13"></td>
              </tr>
              <tr>
                <td class="fragment" data-fragment-index="8">Huile piquante</td>
              </tr>
              <tr>
                <td class="fragment" data-fragment-index="7">Électricité/Gaz</td>
                <td rowspan="7" class="fragment vendor" data-fragment-index="12"></td>
              </tr>
              <tr>
                <td class="fragment" data-fragment-index="6">Cuisson</td>
              </tr>
              <tr>
                <td class="fragment" data-fragment-index="5">Four</td>
              </tr>
              <tr>
                <td class="fragment" data-fragment-index="4">Fromage</td>
                <td rowspan="4" class="fragment vendor" data-fragment-index="11"></td>
              </tr>
              <tr>
                <td class="fragment" data-fragment-index="3">Garniture</td>
              </tr>
              <tr>
                <td class="fragment" data-fragment-index="2">Sauce tomate</td>
              </tr>
              <tr>
                <td class="fragment" data-fragment-index="1">Pâte à pizza</td>
              </tr>
              <tr>
            </tbody>
          </table>
          <p style="font-size: 0.3em;">Photo par djwtwo <img src="lib/img/by-nc-sa.svg" style="vertical-align: middle;"> https://www.flickr.com/photos/djwtwo/9864611814/<br>
          <a href="https://www.linkedin.com/pulse/20140730172610-9679881-pizza-as-a-service">Idée originale d'Albert Barron, Sr. Software Client Architect à IBM</a></p>
        </section>

        <section data-background="lib/img/software.jpg" class="shadow">
          <h2>Logiciel !</h2>
          <table class="stacked">
            <thead>
              <th class="fragment invisible" data-fragment-index="9"></th>
              <th class="fragment" data-fragment-index="10">Sur site</th>
              <th class="fragment" data-fragment-index="11">Infrastructure <small>as a Service</small></th>
              <th class="fragment" data-fragment-index="12">Platform <small>as a Service</small></th>
              <th class="fragment" data-fragment-index="13">Software <small>as a Service</small></th>
            </thead>
            <tbody>
              <tr>
                <td class="fragment" data-fragment-index="9">Applications</td>
                <td rowspan="9" class="fragment us" data-fragment-index="10"></td>
                <td rowspan="4" class="fragment us" data-fragment-index="11"></td>
                <td rowspan="2" class="fragment us" data-fragment-index="12"></td>
                <td rowspan="9" class="fragment vendor" data-fragment-index="13"></td>
              </tr>
              <tr>
                <td class="fragment" data-fragment-index="8">Données</td>
              </tr>
              <tr>
                <td class="fragment" data-fragment-index="7">Runtime</td>
                <td class="fragment mixed" data-fragment-index="12"></td>
              </tr>
              <tr>
                <td class="fragment" data-fragment-index="6">Middleware</td>
                <td rowspan="6" class="fragment vendor" data-fragment-index="12"></td>
              </tr>
              <tr>
                <td class="fragment" data-fragment-index="5">Système (OS)</td>
                <td rowspan="2" class="fragment mixed" data-fragment-index="11"></td>
              </tr>
              <tr>
                <td class="fragment" data-fragment-index="4">Virtualisation</td>
              </tr>
              <tr>
                <td class="fragment" data-fragment-index="3">Réseau</td>
                <td rowspan="3" class="fragment vendor" data-fragment-index="11"></td>
              </tr>
              <tr>
                <td class="fragment" data-fragment-index="2">Stockage</td>
              </tr>
              <tr>
                <td class="fragment" data-fragment-index="1">Serveurs</td>
              </tr>
              <tr>
            </tbody>
          </table>
          <p style="font-size: 0.3em;">Photo par camknows <img src="lib/img/by-nc-sa.svg" style="vertical-align: middle;"> https://www.flickr.com/photos/camknows/3726757043/</p>
          <aside class="notes">
            IaaS : Matériel à la demande, migrer
            PaaS : Briques logicielles à la demande, construire
            SaaS : Logiciel à la demande, Utiliser
          </aside>
        </section>

        <section data-background="lib/img/leaf.jpg" class="shadow">
          <h2>Autres aspects</h2>
          <ul>
            <p class="fragment">Cloud public/privé</p>
            <p class="fragment">Paiement à l'usage</p>
            <p class="fragment">Mise à jour en continu</p>
            <p class="fragment">Flexibilité</p>
            <p class="fragment">ATAWAD</p>
          </ul>
          <p style="font-size: 0.3em; margin-top: 15%">Photo par mightyboybrian <img src="lib/img/by-nc.svg" style="vertical-align: middle;"> https://www.flickr.com/photos/mightyboybrian/5732782815/</p>
          <aside class="notes">
            Privé : infrastructure dédiée ;
            Public : infrastructure mutualisée ;
            Paiement à l'usage : nb machines, Go Traffic, nb requêtes, Go stockage ;
            Mise à jour continue ;
            Flexibilité : on verra après dans les slides, mais il est facile d'ajouter de nouvelles ressources ;
            ATAWAD : AnyTime AnyWhere AnyDevice, de plus, pas d'installation => dispo tout de suite.
          </aside>
        </section>

        <section data-transition="zoom" data-background="#4a4a4a">
          <a href="https://hiptest.net/"><img style="width: 80%;" src="lib/img/hiptest-logo-full-white.svg"></a>
          <p><q>Plateforme SaaS de gestion de tests d'applications Web et mobile
            pour tester au rythme des équipes agiles.</q></p>
        </section>

        <section data-background="lib/img/hiptest-homepage.jpg" data-background-size="100%">
          <p>&nbsp;</p>
        </section>

        <!-- 1 server with continuous deployment -->
        <section data-background="lib/img/Infra01.svg" data-background-size="100%"><p>&nbsp;</p></section>
        <section data-background="lib/img/Infra02.svg" data-background-size="100%"><p>&nbsp;</p></section>
        <section data-background="lib/img/Infra03.svg" data-background-size="100%"><p>&nbsp;</p></section>
        <section data-background="lib/img/Infra04.svg" data-background-size="100%"><p>&nbsp;</p></section>

        <!-- multiple virtual servers, one full stack -->
        <section data-background="lib/img/Infra05.svg" data-background-size="100%"><p>&nbsp;</p></section>
        <section data-background="lib/img/Infra06.svg" data-background-size="100%">
          <p>&nbsp;</p>
          <aside class="notes">
            Parler des snowflakes serveurs.
            Serveur de gestion de configuration : centraliser la
            configuration système des machines dans un référentiel unique.
            Installation Denyhost.
            Infrastructure as code.
          </aside>
        </section>
        <section data-background="lib/img/Infra07.svg" data-background-size="100%"><p>&nbsp;</p></section>
        <section data-background="lib/img/Infra08.svg" data-background-size="100%"><p>&nbsp;</p></section>


        <!-- multiple virtual servers, two full stacks -->
        <section data-background="lib/img/Infra09.svg" data-background-size="100%"><p>&nbsp;</p></section>

        <!-- multiple ci slaves -->
        <section data-background="lib/img/Infra10.svg" data-background-size="100%"><p>&nbsp;</p></section>

        <!-- add backup server -->
        <section data-background="lib/img/Infra11.svg" data-background-size="100%"><p>&nbsp;</p></section>

        <!-- add monitoring server -->
        <section data-background="lib/img/Infra12.svg" data-background-size="100%"><p>&nbsp;</p></section>

        <!-- add elasticsearch server -->
        <section data-background="lib/img/Infra13.svg" data-background-size="100%"><p>&nbsp;</p></section>

        <section data-transition="fade" data-background="lib/img/measure.jpg" class="shadow">
          <p style="padding: 13%"></p>
          <h2>Mesurer, c'est un métier</h2>
          <p style="font-size: 0.3em; margin-top: 27%">Photo par orkomedix <img src="lib/img/by-nc-sa.svg" style="vertical-align: middle;"> https://www.flickr.com/photos/orkomedix/4413901705/</p>
        </section>

        <section data-background="#4a4a4a">
          <a href="https://newrelic.com/"><img style="width: 60%" src="lib/img/NewRelic-logo-square-w.png"></a>
          <p><q>“Constantly monitoring your applications<br>
                so you don’t have to.”</q></p>
          <aside class="notes">
            Plusieurs produits : NR APM, NR Insights, NR Mobile, NR Browser,
            NR Synthetics, NR Servers, NR Platform
          </aside>
        </section>

        <section>
          <h2>Vue d'ensemble</h2>
          <img src="lib/img/NR-apm-1.jpg">
        </section>

        <section>
          <h2>Répartition du temps</h2>
          <img src="lib/img/NR-apm-2.jpg">
        </section>

        <section>
          <h2>Arborescence temporelle</h2>
          <img src="lib/img/NR-apm-3.jpg">
        </section>

        <section>
          <h2>Métriques serveurs</h2>
          <img src="lib/img/NR-servers-1.jpg">
        </section>

        <!-- add newrelic -->
        <section data-background="lib/img/Infra14.svg" data-background-size="100%"><p>&nbsp;</p></section>
        <section data-background="lib/img/Infra15.svg" data-background-size="100%">
          <p>&nbsp;</p>
          <aside class="notes">
            Reste à développer: base de données maitre/esclave
            + meilleure répartition de charge.
          </aside>
        </section>

        <section data-background="#4a4a4a">
          <a href="https://shellycloud.com/"><img style="width: 80%;" src="lib/img/shellycloud-logo.svg" alt=""></a>
          <p><q>“Platform for hosting Ruby and Ruby on Rails apps,<br>
              focusing on the developers happiness.”</q></p>
        </section>

        <section>
          <img src="lib/img/shellycloud.png" alt="">
        </section>

        <section>
          <h2>Prix</h2>
          <img src="lib/img/shellycloud-price.png" alt="">
          <h5>20 € offerts à l'inscription</h5>
        </section>

        <section>
          <h2>Configuration</h2>
          <p>Fichier Cloudfile</p>
          <pre><code data-trim class="ruby condensed">
hiptest:
  ruby_version: 2.1.5
  environment: production # RAILS_ENV
  domains:
    - hiptest.shellyapp.com
    - hiptest.net
    - www.hiptest.net
  servers:
    app1:
      size: small
      thin: 2
    app2:
      size: small
      thin: 2
    job1:
      size: small
      whenever: on
      delayed_job: 2
    store:
      size: large
      databases:
        - postgresql
      elasticsearch: on
          </code></pre>
        </section>


        <section>
          <h2>Modification</h2>
          <pre class="half-column"><code data-trim class="ruby condensed">
hiptest:
  ruby_version: 2.1.5
  environment: production # RAILS_ENV
  domains:
    - hiptest.shellyapp.com
    - hiptest.net
    - www.hiptest.net
  servers:
    app1:
      size: small
      thin: 2
    app2:
      size: small
      thin: 2
    job1:
      size: small
      whenever: on
      delayed_job: 2
    store:
      size: large
      databases:
        - postgresql
      elasticsearch: on
          </code></pre>
          <pre class="fragment half-column" data-fragment-index="1" data-trim><code data-trim class="ruby condensed">
hiptest:
  ruby_version: 2.1.5
  environment: production # RAILS_ENV
  domains:
    - hiptest.shellyapp.com
    - hiptest.net
    - www.hiptest.net
  servers:
    app1:
      size: small
      thin: 2
    app2:
      size: small
      thin: 2
    job1:
      size: small
      whenever: on
      delayed_job: 2
    store:
      size: small
      databases:
        - postgresql
    esearch:
      size: small
      elasticsearch: on
          </code></pre>
          <p class="fragment" data-fragment-index="1">On modifie et on pousse</p>
        </section>

        <section>
          <img src="lib/img/shellycloud-diagram.png">
        </section>

        <section>
          <h2>shelly</h2>
          <p>Commander son appli du bout des doigts</p>
          <pre><code data-trim class="no-highlight">
          $ gem install shelly
          </code></pre>
          <img class="fragment" style="width: 20%" src="lib/img/shellycloud-logo-alone-white.svg">
        </section>

        <section>
          <h2>Connecter son dépôt git</h2>
          <pre><code data-trim class="no-highlight">
$ shelly register christophebliard@hiptest.net
Password: [enter your password]
Password confirmation: [enter your password]

Uploading your public SSH key from /home/cbliard/.ssh/id_rsa.pub
Successfully registered!
Check you mailbox for email address confirmation
          </code></pre>
          <pre class="fragment"><code data-trim class="no-highlight">
$ shelly setup
Setting up example cloud

Running: git remote add shelly git@git.shellycloud.com:example.git
Running: git fetch shelly

Your application is set up.
          </code></pre>
        </section>

        <section>
          <h2>Déployer son application en production</h2>
          <pre><code data-trim class="no-highlight condensed">
$ git push shelly master
Counting objects: 17, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (10/10), done.
Writing objects: 100% (10/10), 1.04 KiB | 0 bytes/s, done.
Total 10 (delta 8), reused 0 (delta 0)

 ---> Received push to cloud 'hiptest'
 ---> Checking Gemfile
 ---> Creating code package... done.
 ---> Deploying your application
 ---> Deployment on server app1 started
 ---> Deployment on server app1 finished
 ---> Deployment on server job1 started
 ---> Deployment on server app2 started
 ---> Deployment on server job1 finished
 ---> Deployment on server app2 finished

 ---> Deployment successful
To git@git.shellycloud.com:hiptest.git
   3d493f5..7e12026  master -> master
          </code></pre>
        </section>

        <section>
          <h2>Logs du déploiement</h2>
          <pre><code data-trim class="no-highlight">
$ shelly deploys show last
Log for deploy done on 2015-03-26 at 11:28:03
Starting processes
Eye started! ㋡
Config loaded!
Starting 'rake jobs:work' was successful
Whenever
[write] crontab file updated
# Begin Whenever generated tasks for: /home/app/app/releases/3d493f57740dcc1b6b959faeee30dfbd7e3713de/config/schedule.rb
0 6 * * * /bin/bash -l -c 'cd /home/app/app/releases/3d493f57740dcc1b6b959faeee30dfbd7e3713de && RAILS_ENV=production bundle exec rake intercom:notify --silent >> whenever.log 2>&1'

# End Whenever generated tasks for: /home/app/app/releases/3d493f57740dcc1b6b959faeee30dfbd7e3713de/config/schedule.rb
Running after successful deploy hook
I, [2015-03-26T11:31:22.722120 #3547]  INFO -- : Notifying Appsignal of deploy with: revision: 3d493f57740dcc1b6b959faeee30dfbd7e3713de, user: christophebliard@hiptest.net
I, [2015-03-26T11:31:22.777596 #3547]  INFO -- : Appsignal has been notified of this deploy!
          </code></pre>
        </section>

        <section>
          <h2>Informations</h2>
          <pre><code data-trim class="no-highlight condensed">
$ shelly info
Cloud hiptest:
  Region: EU
  State: running

  Deployed commit sha: 3d493f57740dcc1b6b959faeee30dfbd7e3713de
  Deployed commit message: Enhance production exception visibility
  Deployed by: christophebliard@hiptest.net

  Repository URL: git@git.shellycloud.com:hiptest.git
  Web server IP: 178.32.77.22, 178.32.77.22

  Usage:
    Filesystem:
      Current: 2.35 GiB
      Average: 2.33 GiB
    Database:
      Current: 864.65 MiB
      Average: 817.97 MiB
    Traffic:
      Incoming: 3.74 GiB
      Outgoing: 8.94 GiB
      Total: 12.68 GiB

  Statistics:
    app1:
      Load average: 1m: 0.42, 5m: 0.16, 15m: 0.09
      CPU: 0.0%, MEM: 63.5%, SWAP: 6.0%
    app2:
      Load average: 1m: 0.01, 5m: 0.02, 15m: 0.05
      CPU: 0.0%, MEM: 69.4%, SWAP: 6.0%
    esearch:
      Load average: 1m: 0.00, 5m: 0.01, 15m: 0.05
      CPU: 0.0%, MEM: 65.6%, SWAP: 4.9%
    job1:
      Load average: 1m: 0.00, 5m: 0.01, 15m: 0.05
      CPU: 0.0%, MEM: 38.7%, SWAP: 9.3%
    store:
      Load average: 1m: 0.08, 5m: 0.11, 15m: 0.08
      CPU: 0.1%, MEM: 17.3%, SWAP: 5.3%
          </code></pre>
        </section>

        <section>
          <h2>Logs applicatifs</h2>
          <h5 style="text-align: left; margin-left: 5%">Voir</h5>
          <pre><code data-trim class="no-highlight condensed">
$ shelly logs latest
          </code></pre>

          <div class="fragment">
            <h5 style="text-align: left; margin-left: 5%">Récupérer</h5>
            <pre><code data-trim class="no-highlight condensed">
$ shelly logs get
Time: 00:00:03 [====================================] 100% Progress | Time: 00:00:03

Log file saved to hiptest.log-20150327.gz
            </code></pre>
          </div>

          <div class="fragment">
            <h5 style="text-align: left; margin-left: 5%">À une date précise</h5>
            <pre><code data-trim class="no-highlight condensed">
$ shelly logs get 26-03-2015
Time: 00:00:05 [====================================] 100% Progress | Time: 00:00:05

Log file saved to hiptest.log-20150326.gz
            </code></pre>
          </div>
        </section>

        <section>
          <h2>Accès ssh</h2>
          <pre><code data-trim class="no-highlight">
$ shelly ssh
app@app2.hiptest [production] ~/app/current $
          </code></pre>

          <div class="fragment">
            <h5 style="text-align: left; margin-left: 5%">Sur un hôte particulier</h5>
            <pre><code data-trim class="no-highlight">
$ shelly ssh --server job1
app@job1.hiptest [production] ~/app/current $
            </code></pre>
          </div>
        </section>

        <section>
          <h2>Console</h2>
          <h5 style="text-align: left; margin-left: 5%">Rails</h5>
          <pre><code data-trim class="no-highlight">
$ shelly console
Loading production environment (Rails 4.0.13)
2.1.5 :001 >
          </code></pre>

          <div class="fragment">
            <h5 style="text-align: left; margin-left: 5%">PostgreSQL</h5>
            <pre><code data-trim class="no-highlight">
$ shelly dbconsole
psql (9.3.5)
Type "help" for help.

hiptest=#
            </code></pre>
          </div>
        </section>

        <section>
          <h2>Backups de base de données</h2>
          <h5 style="text-align: left; margin-left: 5%">Lister</h5>
          <pre><code data-trim class="no-highlight condensed">
$ shelly backup list -c  hiptest
Showing only last 10 backups.
Use --all or -a option to list all backups.

  Filename                                    |  Size    |  State
  2015.03.23.17.02.26.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.24.05.03.10.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.24.17.02.32.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.25.05.05.24.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.25.17.02.51.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.26.05.10.46.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.26.10.15.33.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.26.17.02.43.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.27.05.04.54.hiptest.postgresql.tar  |  80 MiB  |  completed
          </code></pre>
          <div class="fragment">
            <h5 style="text-align: left; margin-left: 5%">Récupérer le dernier</h5>
            <pre><code data-trim class="no-highlight condensed">
$ shelly backup get
Time: 00:00:34 [================================] 100% Progress | Time: 00:00:34

Backup file saved to 2015.03.27.05.04.54.hiptest.postgresql.tar
            </code></pre>
          </div>
        </section>

        <section>
          <h5 style="text-align: left; margin-left: 5%">Lancer une sauvegarde</h5>
          <pre><code data-trim class="no-highlight condensed">
$ shelly backup create postgresql
Backup requested. It can take up to several minutes for the backup process to finish.
          </code></pre>
          <div class="fragment">
            <pre><code data-trim class="no-highlight condensed">
$ shelly backup list
Showing only last 10 backups.
Use --all or -a option to list all backups.

  Filename                                    |  Size    |  State
  2015.03.24.17.02.32.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.25.05.05.24.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.25.17.02.51.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.26.05.10.46.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.26.10.15.33.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.26.17.02.43.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.27.05.04.54.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.27.17.02.20.hiptest.postgresql.tar  |  80 MiB  |  completed
  .                                           |          |  in progress
            </code></pre>
          </div>
          <div class="fragment">
            <pre><code data-trim class="no-highlight condensed">
# quelques minutes plus tard...
$ shelly backup list
Showing only last 10 backups.
Use --all or -a option to list all backups.

  Filename                                    |  Size    |  State
  2015.03.24.17.02.32.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.25.05.05.24.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.25.17.02.51.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.26.05.10.46.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.26.10.15.33.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.26.17.02.43.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.27.05.04.54.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.27.17.02.20.hiptest.postgresql.tar  |  80 MiB  |  completed
  2015.03.27.17.09.30.hiptest.postgresql.tar  |  80 MiB  |  completed
            </code></pre>
          </div>
        </section>

        <section>
          <h2>Et d'autres...</h2>
          <pre><code data-trim class="no-highlight condensed">
$ shelly help
Tasks:
  shelly add                     # Add a new cloud
  shelly backup &lt;command&gt;        # Manage database backups
  shelly check                   # Check if application fulfills Shelly Cloud requirements
  shelly config &lt;command&gt;        # Manage application configuration files
  shelly console                 # Open application console
  shelly database &lt;command&gt;      # Manage databases
  shelly dbconsole               # Run rails dbconsole
  shelly delete                  # Delete the cloud
  shelly deploy &lt;command&gt;        # View deploy logs
  shelly endpoint &lt;command&gt;      # Manage application HTTP(S) endpoints
  shelly file &lt;command&gt;          # Upload and download files to and from persistent storage
  shelly help [TASK]             # Describe available tasks or one specific task
  shelly info                    # Show basic information about cloud
  shelly list                    # List available clouds
  shelly login [EMAIL]           # Log into Shelly Cloud
  shelly logout                  # Logout from Shelly Cloud
  shelly logs &lt;command&gt;          # View application logs
  shelly maintenance &lt;command&gt;   # Mange application maintenance events
  shelly mongoconsole            # Run MongoDB console
  shelly open                    # Open application page in browser
  shelly organization &lt;command&gt;  # View organizations
  shelly rake TASK               # Run rake task
  shelly redeploy                # Redeploy application
  shelly redis-cli               # Run redis-cli
  shelly register [EMAIL]        # Register new account
  shelly setup                   # Set up git remotes for deployment on Shelly Cloud
  shelly ssh                     # Log into virtual server
  shelly start                   # Start the cloud
  shelly stop                    # Shutdown the cloud
  shelly user &lt;command&gt;          # Manage collaborators
  shelly version                 # Display shelly version

Options:
      [--debug]  # Show debug information
  -h, [--help]   # Describe available tasks or one specific task
          </code></pre>
        </section>

        <section data-background="lib/img/doge.jpg">
          <p>&nbsp;</p>
          <aside class="notes">
            Responsable produit a pu démarrer le service, l'arrêter
            Paiement à la consommation
            Support excellent
          </aside>
        </section>

        <!-- Use Shelly Cloud -->
        <section data-background="lib/img/Infra17.svg" data-background-size="100%"><p>&nbsp;</p></section>
        <section data-background="lib/img/Infra18.svg" data-background-size="100%"><p>&nbsp;</p></section>
        <section data-background="lib/img/Infra19.svg" data-background-size="100%"><p>&nbsp;</p></section>
        <section data-background="lib/img/Infra20.svg" data-background-size="100%"><p>&nbsp;</p></section>
        <section data-background="lib/img/Infra21.svg" data-background-size="100%"><p>&nbsp;</p></section>
        <section data-background="lib/img/Infra22.svg" data-background-size="100%"><p>&nbsp;</p></section>

        <section data-background="#4a4a4a">
          <a href="https://www.shippable.com/"><img style="width: 80%;" src="lib/img/shippable-logo-white.png"></a>
          <p><q>Ship fast, evolve faster</q></p>
        </section>

        <section>
          <h2>Configuration • shippable.yml</h2>
          <pre><code data-trim class="ruby condensed">
# Configuration file for Shippable
# Shippable provides continuous integration in the cloud
build_environment: ubuntu1204
language: ruby
rvm:
  - 2.1.5

# Enable cached containers, reset with [reset_minion] in commit message.
cache: true
# Enable archiving the shippable/ directory as an artifact to download
archive: true

services:
  # sets elasticsearch on localhost, port 9200
  - elasticsearch

script:
  - rm -f log/test.log
  - bin/rspec --format RspecJunitFormatter --out shippable/testresults/rspec.xml

# http://docs.shippable.com/en/latest/config.html#email-notification
notifications:
  email:
    recipients:
      - devs@hiptest.net
    on_success: change
    on_failure: always
          </code></pre>
        </section>
        <section>
          <h2>Personnalisation • shippable.yml</h2>
          <pre><code data-trim class="ruby condensed">
env:
  global:
    # devise_secret_token
    - secure: pGUq5116iDVWh6R4/ZOfPxIZj8Vqn4FXS6jmZKyHk99ln20EWX4Ie2xsPSwgFJcOFA==

branches:
  only:
    - master

before_install:  # make chromedriver available
  - "curl -o /tmp/chromedriver.zip -L http://chromedriver.storage.googleapis.com/2.10/chromedriver_linux64.zip"
  - "unzip -o /tmp/chromedriver.zip -d /home/shippable/bin"
  - "chmod +x /home/shippable/bin/chromedriver"
  - "printf '#!/bin/bash\nexec /usr/bin/chrome --no-sandbox --disable-gpu \"$@\"\n' | sudo tee /usr/bin/google-chrome"
  - "sudo chmod +x /home/shippable/bin/chromedriver /usr/bin/google-chrome"

before_script:
  - "export DISPLAY=:99.0"
  - "/etc/init.d/xvfb start"

after_script:
  - "/etc/init.d/xvfb stop"

after_success:  # push to production
  - "git push shelly master"

after_failure:  # save some test logs
  - "mv log/test.log shippable/"
          </code></pre>
        </section>

        <section>
          <h2>Résultats</h2>
          <img src="lib/img/shippable-hiptest-build.jpg">
        </section>

        <section data-background="lib/img/Infra24.svg" data-background-size="100%"><p>&nbsp;</p></section>
        <section data-background="lib/img/Infra25.svg" data-background-size="100%"><p>&nbsp;</p></section>
        <section data-background="lib/img/Infra27.svg" data-background-size="100%"><p>&nbsp;</p></section>
        <section data-background="lib/img/Infra29.svg" data-background-size="100%"><p>&nbsp;</p></section>

        <section data-background="lib/img/stroopwafels.jpg">
          <div style="background-color: rgba(255,255,255, 0.8); margin: 0 -20%; padding: 2% 20%">
            <a href="https://appsignal.com/"><img src="lib/img/appsignal-logo.svg"></a>
            <p style="color: #444;"><q>Your Ruby apps can run smoother.</q></p>
          </div>
        </section>

        <section data-background="lib/img/stroopwafels.jpg">
          <img src="lib/img/appsignal-graphs.jpg">
        </section>
        <section data-background="lib/img/stroopwafels.jpg">
          <img src="lib/img/appsignal-errors.jpg">
        </section>
        <section data-background="lib/img/stroopwafels.jpg">
          <img src="lib/img/appsignal-performance.jpg">
        </section>
        <section data-background="lib/img/stroopwafels.jpg">
          <img src="lib/img/appsignal-perf-view1.jpg">
        </section>
        <section data-background="lib/img/stroopwafels.jpg">
          <img src="lib/img/appsignal-perf-view2.jpg">
        </section>

        <section data-background="lib/img/Infra29.svg" data-background-size="100%"><p>&nbsp;</p></section>
        <section data-background="lib/img/Infra30.svg" data-background-size="100%">
          <p>&nbsp;</p>
          <aside class="notes">
            Google docs, calendar, mail, 5€/mois/user,
            Intercom pour gestion clients
            Zopim chat inline
            GitHub pages pour la doc
          </aside>
        </section>

        <section data-background="lib/img/brain-coral-grayed.jpg" data-background-size="100%" class="shadow">
          <h2>Que retenir de notre évolution ?</h2>
          <p class="fragment">Maintenance fortement réduite</p>
          <p class="fragment">Meilleure focalisation sur notre métier</p>
          <p class="fragment">Coût similaire</p>
          <p class="fragment">Plus de fonctionnalités</p>
          <p class="fragment">Plus flexible</p>
          <p class="fragment">Moins de contrôle</p>
          <p class="fragment">Sécurité des données</p>
          <p style="font-size: 0.3em">Photo par HorsePunchKid <img src="lib/img/by-nc-sa.svg" style="vertical-align: middle;"> https://www.flickr.com/photos/horsepunchkid/4393669704/</p>
          <aside class="notes">
            Sécurité : identité, accès
            Conformité
            Performances
            Mobilité des données
          </aside>
        </section>
      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="lib/js/screenfull.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        // fragments: false, // uncomment for debugging

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true },
          { src: 'plugin/notes/notes.js', async: true }
        ]
      });

      /**
       * Converts the target object to an array.
       */
      function toArray(o) {
        return Array.prototype.slice.call(o);
      }

      /**
       * Hack for a smoother background fading transition
       */
      Reveal.addEventListener('slidechanged', function(event) {
        var currentBackground = Reveal.getSlideBackground(event.indexh, event.indexv);

        toArray(document.querySelectorAll('.slide-background')).forEach(function(background) {
          background.style.opacity = '';
        });
        if (event.currentSlide.hasAttribute('data-background')
          && !currentBackground.classList.contains("past")) {
          Reveal.getPreviousSlideBackground().style.opacity = '1';
        }
      } );

      Reveal.addEventListener('ready', function(event) {
        document.getElementById('toggle-fullscreen').addEventListener('click', function () {
          if (screenfull.enabled) {
            screenfull.toggle();
          }
        });
      });
    </script>

  </body>
</html>
